From c56271995e019106c033f04e01e37970395f4a1e Mon Sep 17 00:00:00 2001
From: Maksim Sisov <msisov@igalia.com>
Date: Thu, 21 Dec 2017 16:17:12 +0200
Subject: [PATCH] Fix non mac build of chrome_binary.

Fix GN processing error on mei_preload.
---
 chrome/browser/resources/media/mei_preload/BUILD.gn | 12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

diff --git a/chrome/browser/resources/media/mei_preload/BUILD.gn b/chrome/browser/resources/media/mei_preload/BUILD.gn
index 4216d0e121dd..3a7260963da9 100644
--- a/chrome/browser/resources/media/mei_preload/BUILD.gn
+++ b/chrome/browser/resources/media/mei_preload/BUILD.gn
@@ -17,10 +17,12 @@ copy("component") {
   ]
 }
 
-bundle_data("component_bundle") {
-  sources = mei_preload_sources
+if (is_mac) {
+  bundle_data("component_bundle") {
+    sources = mei_preload_sources
 
-  outputs = [
-    "{{bundle_contents_dir}}/Libraries/$mei_preload_out_dir/{{source_file_part}}",
-  ]
+    outputs = [
+      "{{bundle_contents_dir}}/Libraries/$mei_preload_out_dir/{{source_file_part}}",
+    ]
+  }
 }
-- 
2.11.0

